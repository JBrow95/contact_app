<head>
	<link rel="stylesheet" type="text/css" href="css/profile.css">
	<title>profile</title>
</head>

<body>
	<div class="content">
		<div class="row">
			<div class="user-avi">
					<img src="/images/usericon.png">
			</div>

			<div class="user-name">
				<h2><%= username%></h2>
			</div>

			<nav>
				<h2 onclick="contactFunc()">Contacts</h2>
				<h2 id="myBtn">New Contact</h2>
			</nav>

			<div id="myModal" class="modal">
				
				<div class="modal-content">
					<span class="close">&times;</span>
					<form method="post" action="contacts">
						<input type="text" name="person" placeholder="Name" required minlength="3">
						<input type="text" name="address" placeholder="Address" required minlength="6">
						<input type="number" name="phone" placeholder="Phone" required minlength="10">
						<input type="submit" value="Create">
					</form>
				</div>
			</div>

			<div class="footer">
				<h2>Edit Profile</h2>
				<a href="/"><h2>Sign Out</h2></a>
			</div>
		</div>

		<div class="row3">
			<header>
				<form>
					<input type="text" name="search" placeholder="Search..">
				</form>
			</header>
			<div id="display">
				<table id="table">
					<tr>
						<th>Name</th>
						<th>Address</th>
						<th>Phone</th>
						<th></th>
					</tr>
					<% res_arr.each do |r|%>
				  <tr>
				    <td><%= r['names']%></td>
				    <td><%= r['address']%></td>
				    <td><%= r['phone']%></td>
					<td id="del" style="font-size: 28px"><button id="close_btn" onclick="clicker()" style="cursor: pointer;">&times;</button></td>
				  </tr>
				  <% end%>
				</table>
			</div>		
		</div>
	</div>
	
	<script src="/js/log.js"></script>
	<script src="/js/new.js"></script>
	<script>


		var index, table = document.getElementById('table');
		for(var i = 0; i < table.rows.length; i++)
		{
			table.rows[i].cells[3].onclick = function()
			{
				index = this.parentElement.rowIndex;
				table.deleteRow(index);
				console.log(index);
			};
	}

	</script>
</body>